function teddieId(){return location.search.split("=")[1]}function getSelectedColors(){return colors.value}function viewTeddie(e){let t=document.createElement("div");t.className="card m-3 p-3",teddieChoix.appendChild(t);let n=document.createElement("img");n.className="card-img-top",n.src=e.imageUrl,n.alt=e.name,t.appendChild(n);let r=document.createElement("div");r.className="card-body";let a=document.createElement("h1");a.className="card-title text-center",a.innerHTML=e.name,r.appendChild(a);let c=document.createElement("p");c.className="card-text text-center",c.innerHTML=e.description,r.appendChild(c),c.insertAdjacentText("beforebegin","Description :");let o=document.createElement("select");o.className="custom-select",o.id="colors",r.appendChild(o),o.insertAdjacentText("beforebegin","Choix de la couleurs :");for(let t=0;t<e.colors.length;t++){let n=document.createElement("option");n.text=e.colors[t],o.appendChild(n)}let l=document.createElement("string");l.className="card-price",l.innerHTML=e.price/100+" €",r.appendChild(l),l.insertAdjacentText("beforebegin","Prix : "),t.appendChild(r);let i=document.createElement("button");i.setAttribute="type",i.id="btnAjoutPanier",i.className="btn",i.innerHTML="Ajouter au panier",t.appendChild(i),i.addEventListener("click",function(){let t=[];getSelectedColors()?(localStorage.getItem("products")&&(t=JSON.parse(localStorage.getItem("products"))),t.push({_id:e._id,image:e.imageUrl,name:e.name,colors:colors.value,price:e.price/100}),localStorage.setItem("products",JSON.stringify(t)),window.confirm(e.name+" de couleur "+colors.value+" a été ajouté au panier. Merci !"),window.location.reload()):(console.error("Retour du serveur : ",response.status),alert("Erreur rencontrée : "+response.status))})}fetch("http://localhost:3000/api/teddies/"+teddieId()).then(e=>e.json()).then(e=>{viewTeddie(e)}).catch(function(e){window.alert("Le serveur n'est pas disponible, essayez ultérieurement.")});